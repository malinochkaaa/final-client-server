{"version":3,"sources":["pages/Menu.jsx","pages/404.jsx","server/API_helper.js","server/favoritesManager.js","pages/Card.jsx","pages/CardVert.jsx","pages/Museums.jsx","pages/Favorites.jsx","pages/museums/Carousel.jsx","pages/museums/CarouselPortal.jsx","pages/museums/Tretyakovka.jsx","App.jsx","reportWebVitals.ts","index.tsx"],"names":["shutUp","assistant","sendData","action","action_id","parameters","Menu","props","prefix","history","useHistory","useEffect","nextPage","push","window","currentURL","className","document","documentElement","clientWidth","style","headline1","headline2","to","onClick","console","log","AppStyled","styled","div","NotFound","URL","museum_id","a","axios","post","user_id","updateFavorites","inFavorite","deleteFromFavorites","addToFavorites","CardContainer","useState","info","in_favourites","setFavorite","width","compact","fontSize","position","top","title","ind","contentLeft","src","pictures","content","pathname","openMuseum","id","name","address","size","view","pin","CardVertContainer","DivStyled","Museums","openMuseumById","load","showAllMuseums","then","res","setCards","data","fillArrayInd_Id","isLoaded","setIsLoaded","cards","openId","editProps","length","inFav","favUpdate","editFav","setTimeout","location","back","subtitle","goBack","margin","map","e","CardVert","Card","Favorites","showFavorites","defaultImage","CarouselContainer","index","setIndex","itemsComponents","undefined","item","i","height","as","Row","axis","scrollSnapType","detectActive","detectThreshold","stylingCallback","stylingResetCallback","onIndexChange","paddingStart","paddingEnd","CarouselPortalContainer","Tretyakovka","showMuseum","setInfo","currentFavStatus","worktime","Array","fill","stations","station","paragraph1","distance","description","clientHeight","CarouselPortal","Carousel","text","headline3","phone","href","website","payment","target","inst","facebook","twitter","vk","ThemeBackgroundEva","createGlobalStyle","darkEva","ThemeBackgroundSber","darkSber","ThemeBackgroundJoy","darkJoy","DocStyle","background","gradient","ind_id","ind_id_fav","packageJson","homepage","App","getState","setState","openMusId","arr","param","state","character","page","getStateForAssistant","createAssistant","on","event","type","dispatchAssistantAction","item_selector","items","this","Device","exact","path","render","component","React","Component","reportWebVitals","withRouter","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.1f65fe97.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./styles/Menu.css\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { headline1, headline2 } from '@sberdevices/plasma-tokens';\r\nimport { MarkedList, MarkedItem}  from '@sberdevices/plasma-ui'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst shutUp = (assistant) => {\r\n    assistant.sendData({\r\n        action: {\r\n          action_id: \"shut_up\",\r\n          parameters: {},\r\n        },\r\n      });\r\n};\r\n\r\nconst Menu = (props) => {\r\n    const prefix = props.prefix;\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        if(props.nextPage !== -1){\r\n            if(props.nextPage === 0)\r\n                history.push(`${prefix}/museums`);\r\n            else if(props.nextPage === 1)\r\n                history.push(`${prefix}/fav`);\r\n        }\r\n    }, [props.nextPage]);\r\n    window.currentURL = \"/\";\r\n    return(\r\n        <div className={(document.documentElement.clientWidth <= 400) ? \"phone-menu-container\" : \"menu-container\"}>\r\n            <h1 style={headline1}>Меню</h1>\r\n            <MarkedList>\r\n                <MarkedItem >\r\n                    <h2 style={headline2}>\r\n                        <Link to={`${prefix}/museums`} \r\n                        onClick={() => shutUp(props.assistant)}>Список музеев Москвы</Link>\r\n                    </h2>\r\n                </MarkedItem >\r\n                <MarkedItem >\r\n                    <h2 style={headline2}>\r\n                        <Link to={`${prefix}/fav`} onClick={() => {\r\n                                console.log(\"shut up\");\r\n                                shutUp(props.assistant);\r\n                            }}>\r\n                            Список избранных музеев\r\n                        </Link>\r\n                    </h2>\r\n                </MarkedItem >\r\n            </MarkedList>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Menu;","import React from \"react\";\r\nimport styled from 'styled-components';\r\nimport { headline1 } from '@sberdevices/plasma-tokens';\r\n\r\nconst AppStyled = styled.div`\r\n    padding-top: 190px;\r\n    padding-bottom: 430px;\r\n    padding-left: 200px;\r\n    padding-right: 170px;\r\n`;\r\n\r\nconst NotFound = () => {\r\n    return(\r\n        <div>\r\n            <AppStyled>\r\n                <h1 style={headline1}>404 Not Found</h1>\r\n            </AppStyled>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFound;","import axios from \"axios\";\r\n \r\nconst URL = \"https://museumguide.herokuapp.com/\";        \r\nwindow.user_id = \"\";\r\n \r\nexport async function addToFavorites(museum_id) {\r\n    await axios.post(`${URL}add_to_favorites`, {\"user_id\": window.user_id, \"fav_id\": museum_id, });\r\n}\r\n\r\nexport async function deleteFromFavorites(museum_id) {\r\n    await axios.post(`${URL}delete_from_favorites`, {\"user_id\": window.user_id, \"fav_id\": museum_id, });\r\n}\r\n \r\nexport async function showAllMuseums() {\r\n    console.log(window.user_id);\r\n    return await axios.post(`${URL}museums`, {\"user_id\": window.user_id});\r\n}\r\n \r\n \r\nexport async function showMuseum(museum_id) {\r\n    return await axios.post(`${URL}museums/by_id`, {\"museum_id\": museum_id, \"user_id\": window.user_id});\r\n}\r\n\r\nexport async function showFavorites() {\r\n    return await axios.post(`${URL}favorites`, {\"user_id\": window.user_id});\r\n}","import {addToFavorites, deleteFromFavorites} from \"./API_helper\";\r\n\r\nexport function updateFavorites(inFavorite, museum_id) {\r\n    if(inFavorite) deleteFromFavorites(museum_id);\r\n    else addToFavorites(museum_id);\r\n}","import React, {useState} from \"react\";\r\nimport \"./styles/Museums.css\"\r\nimport { IconHeartStroke, IconHeart } from '@sberdevices/plasma-icons';\r\nimport styled from 'styled-components';\r\nimport { Link} from \"react-router-dom\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    Cell, \r\n    TextBoxSubTitle, \r\n    TextBox, \r\n    TextBoxTitle,\r\n    ActionButton,\r\n    Image,\r\n } from '@sberdevices/plasma-ui';\r\n import {updateFavorites} from \"../server/favoritesManager\"\r\nimport { useEffect } from \"react\";\r\nconst CardContainer = (props) => {\r\n    const [inFavorite, setFavorite] = useState(props.info.in_favourites); //TODO получать в избранном или нет из пропсов \r\n    useEffect(() => setFavorite(props.info.in_favourites), [props.info.in_favourites]);\r\n    return(\r\n        <div className=\"card-style\">\r\n                <Card style={{ width: \"30rem\" }}>\r\n                    <CardContent compact>\r\n                    <TextBox style={{ fontSize: \"16px\", position: \"absolute\", top: \"10px\"}} title={props.ind}/>\r\n                        <Cell\r\n                            contentLeft={\r\n                                <div className=\"img-style\">\r\n                                    <Image className=\"img-m\" src={props.info.pictures} />\r\n                                </div>\r\n                            }\r\n                            content={\r\n                                <TextBox>\r\n                                    <TextBoxTitle className=\"text-style\">\r\n                                        <Link to={{pathname: `${props.prefix}/museums/first`}} onClick={() => props.openMuseum(props.info.id)}>{props.info.name}</Link>\r\n                                    </TextBoxTitle>\r\n                                    <TextBoxSubTitle className=\"text-style\">{props.info.address}</TextBoxSubTitle>\r\n                                    <ActionButton\r\n                                        onClick = {() => {updateFavorites(inFavorite, props.info.id); setFavorite(!inFavorite);}}\r\n                                        size='m'\r\n                                        view='primary'\r\n                                        pin='square-square'\r\n                                        contentLeft={inFavorite ? <IconHeart/> : <IconHeartStroke/>}\r\n                                    >  \r\n                                    </ActionButton>\r\n                                </TextBox>\r\n                            }\r\n                        />\r\n                    </CardContent>\r\n                </Card>\r\n        \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardContainer;","import React, {useState} from \"react\";\r\nimport \"./styles/Museums.css\"\r\nimport { IconHeartStroke, IconHeart } from '@sberdevices/plasma-icons';\r\nimport { Link} from \"react-router-dom\";\r\nimport {\r\n    Card,\r\n    CardBody,\r\n    CardContent,\r\n    CardMedia, \r\n    Image,\r\n    TextBoxSubTitle, \r\n    TextBox, \r\n    TextBoxTitle,\r\n    ActionButton,\r\n } from '@sberdevices/plasma-ui';\r\n import {updateFavorites} from \"../server/favoritesManager\"\r\nimport { useEffect } from \"react\";\r\nconst CardVertContainer = (props) => {\r\n    const [inFavorite, setFavorite] = useState(props.info.in_favourites); //TODO получать в избранном или нет из пропсов \r\n    useEffect(() => setFavorite(props.info.in_favourites), [props.info.in_favourites]);\r\n    return(\r\n        <div className=\"card-vert-style\">\r\n                <Card style={{ \r\n                    width: '20rem' }}>\r\n                    <CardBody className=\"img-style\">\r\n                            <Image className=\"img-m\" src={props.info.pictures} />\r\n                        <CardContent>\r\n                            <TextBox style={{ fontSize: \"16px\", position: \"absolute\", top: \"10px\"}} title={props.ind}>\r\n                                <TextBoxTitle className=\"text-style\">\r\n                                    <Link to={{pathname: `${props.prefix}/museums/first`}} onClick={() => props.openMuseum(props.info.id)}>{props.info.name}</Link>\r\n                                </TextBoxTitle>\r\n                                <TextBoxSubTitle className=\"text-style\">{props.info.address}</TextBoxSubTitle>\r\n                            </TextBox>\r\n                            <ActionButton\r\n                                onClick = {() => {updateFavorites(inFavorite, props.info.id); setFavorite(!inFavorite);}}\r\n                                size='l'\r\n                                view='primary'\r\n                                pin='square-square'\r\n                                contentLeft={inFavorite ? <IconHeart/> : <IconHeartStroke/>}\r\n                            >  \r\n                            </ActionButton>\r\n                        </CardContent>\r\n                    </CardBody>\r\n                </Card>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardVertContainer;","import React, {useState, useEffect} from \"react\";\r\nimport \"./styles/Museums.css\"\r\nimport CardContainer from \"./Card.jsx\";\r\nimport CardVertContainer from \"./CardVert\";\r\nimport styled from 'styled-components';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    Container,\r\n    Header,\r\n    Spinner,\r\n } from '@sberdevices/plasma-ui';\r\n\r\nimport {showAllMuseums} from \"../server/API_helper\";\r\nimport { updateFavorites } from \"../server/favoritesManager\";\r\n\r\nconst DivStyled = styled.div`padding: 30px;`;\r\n\r\nfunction favUpdate(cards, editProps) {\r\n    const ind = editProps.id-1;\r\n    if(cards.length !== 0 && ind >= 0) {\r\n        const id = cards[ind].id;\r\n        const inFav = cards[ind].in_favourites;\r\n        console.log('inFave = ', inFav);\r\n        const action = editProps.action;\r\n        if((inFav && action === 'del') || (!inFav && action === 'add')) {\r\n            updateFavorites(inFav, id);\r\n        }\r\n    }\r\n}\r\n\r\nexport const Museums = (props) => {\r\n    const openMuseum = (id) => {props.openMuseumById(id)}\r\n    const load = () => {if(window.user_id !== \"\") showAllMuseums().then(res => {setCards(res.data); props.fillArrayInd_Id(res.data, 'all'); console.log(\"loaded\")})}\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [cards, setCards] = useState([]);\r\n    useEffect(() => setIsLoaded(true), [cards]);\r\n    useEffect(() => {if(!isLoaded) load()});\r\n    useEffect(() => {\r\n        if(props.openId !== -1 && isLoaded) {\r\n            history.push({pathname: `${props.prefix}/museums/first`});\r\n        }\r\n    }, [props.openId]);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        favUpdate(cards, props.editFav);\r\n        setTimeout(load(), 1000);\r\n    }, [props.editFav]);\r\n    window.currentURL = history.location.pathname;\r\n    console.log(document.documentElement.clientWidth);\r\n\r\n    return(\r\n    <div className=\"list-scroll\">\r\n        <div>\r\n           <DivStyled>\r\n                <Container>\r\n                    <Header\r\n                        back={true}\r\n                        title=\"Музеи\"\r\n                        subtitle=\"Список музеев Москвы\"\r\n                        onClick={() => {\r\n                            setIsLoaded(false);\r\n                            history.goBack();\r\n                        }}\r\n                    >\r\n                    </Header>\r\n                </Container>\r\n            </DivStyled>\r\n        </div>\r\n        <div>\r\n        {\r\n        cards.length === 0 ?\r\n        <Spinner size={100} style={{margin: \"auto\"}}/>\r\n        :\r\n        <div>\r\n            {cards===[]?<div></div> : cards.map((e, ind) => {\r\n                if(document.documentElement.clientWidth <= 400) {\r\n                    return <CardVertContainer\r\n                                key={e.id} \r\n                                ind={ind+1} \r\n                                info={e} \r\n                                openMuseum={openMuseum}\r\n                                prefix={props.prefix}\r\n                            />;\r\n                }\r\n                else \r\n                    return <CardContainer \r\n                                key={e.id} \r\n                                ind={ind+1} \r\n                                info={e} \r\n                                openMuseum={openMuseum}\r\n                                prefix={props.prefix}\r\n                            />\r\n            })}\r\n        </div>\r\n        }\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Museums;","import React, {useState, useEffect} from \"react\";\r\nimport styled from 'styled-components';\r\nimport \"./styles/Museums.css\"\r\nimport { Container, Header, Image }  from '@sberdevices/plasma-ui';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CardContainer from \"./Card.jsx\";\r\nimport CardVertContainer from \"./CardVert\";\r\nimport {showFavorites} from \"../server/API_helper\"\r\nimport { updateFavorites } from \"../server/favoritesManager\";\r\n\r\nconst DivStyled = styled.div`padding: 30px;`;\r\n\r\nfunction favUpdate(cards, editProps) {\r\n    const ind = editProps.id-1;\r\n    if(cards.length !== 0 && ind >= 0) {\r\n        const id = cards[ind].id;\r\n        updateFavorites(true, id);\r\n        console.log(true);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport const Favorites = (props) => {\r\n    const openMuseum = (id) => {props.openMuseumById(id)}\r\n    const load = () => {\r\n        showFavorites()\r\n        .then(res => {\r\n            setCards(res.data); \r\n            props.fillArrayInd_Id(res.data, 'fav');\r\n        })\r\n    }\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [cards, setCards] = useState([]);\r\n    useEffect(() => setIsLoaded(true), [cards]);\r\n    useEffect(() => {if(!isLoaded) load()});\r\n    useEffect(() => {\r\n        if(props.openId !== -1 && isLoaded) {\r\n            history.push({pathname: `${props.prefix}/museums/first`});\r\n        }\r\n    }, [props.openId]);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        if(props.editFav.action === 'del') {\r\n            if(favUpdate(cards, props.editFav))\r\n                load();\r\n        }\r\n    }, [props.editFav]);\r\n    window.currentURL = history.location.pathname;\r\n    \r\n    return(\r\n    <div className=\"list-scroll\">\r\n        <div>\r\n        <DivStyled>\r\n            <Container>\r\n                <Header\r\n                    back={true}\r\n                    title=\"Избранное\"\r\n                    subtitle=\"Список избранных музеев\"\r\n                    onClick={() => {\r\n                        history.goBack();\r\n                    }}\r\n                >\r\n                </Header>\r\n            </Container>\r\n        </DivStyled>\r\n        </div>\r\n        {cards.length === 0 && isLoaded ?\r\n            <h1>Нет избранных музеев</h1>\r\n        :\r\n        <div className=\"card-style\">\r\n            {cards===[]?<div></div> : cards.map((e, ind) => {\r\n                if(document.documentElement.clientWidth <= 400) {\r\n                console.log(\"vert\");\r\n                return <CardVertContainer\r\n                            key={e.id} \r\n                            ind={ind+1} \r\n                            info={e} \r\n                            openMuseum={openMuseum}\r\n                            prefix={props.prefix}\r\n                        />;\r\n            }\r\n            else \r\n                return <CardContainer \r\n                            key={e.id} \r\n                            ind={ind+1} \r\n                            info={e} \r\n                            openMuseum={openMuseum}\r\n                            prefix={props.prefix}\r\n                        />\r\n            })}\r\n        </div>\r\n        }\r\n    </div>\r\n    );\r\n};\r\nexport default Favorites;","import React, {useState, memo} from \"react\";\r\nimport { \r\n    CarouselGridWrapper,\r\n    Carousel, \r\n    CarouselItem,\r\n    stylingCallback, \r\n    stylingResetCallback, \r\n    Card, \r\n    CardBody, \r\n    CardContent, \r\n    Image, \r\n    Row,\r\n    Container,\r\n} from '@sberdevices/plasma-ui';\r\nconst defaultImage = \"https://online-fotoshop.ru/wp-content/uploads/bfi_thumb/dummy-transparent-p2gfbv7qayyokn2iuybz9hr1rkhapcogpd9eywlyeq.png\";\r\nexport const CarouselContainer = (props) => {\r\n    const [index, setIndex] = useState(1);\r\n    const items = props.pictures == undefined ? [defaultImage, defaultImage] : props.pictures;\r\n    let itemsComponents = items.map((item, i) => (\r\n            <CarouselItem key={i}>\r\n                <Card style={{ width: \"14rem\", height: \"11rem\", margin: \"0.4rem\",}}>\r\n                    <CardBody>\r\n                        <CardContent>\r\n                            <div className=\"phone-img-t\">\r\n                                <Image title={`Item ${i}`} src={item} />\r\n                            </div>\r\n                        </CardContent>\r\n                    </CardBody>\r\n                </Card>\r\n            </CarouselItem>\r\n    ))\r\n    return(\r\n        <Container>\r\n            <CarouselGridWrapper>\r\n                <Carousel\r\n                    as={Row}\r\n                    axis=\"x\"\r\n                    index={index}\r\n                    scrollSnapType=\"mandatory\"\r\n                    detectActive\r\n                    detectThreshold={0.5}\r\n                    stylingCallback={stylingCallback}\r\n                    stylingResetCallback={stylingResetCallback}\r\n                    onIndexChange={(i) => setIndex(i)}\r\n                    paddingStart=\"50%\"\r\n                    paddingEnd=\"50%\"\r\n                >\r\n                {itemsComponents}\r\n                </Carousel>\r\n            </CarouselGridWrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CarouselContainer;","import React, {useState, memo} from \"react\";\r\nimport { \r\n    CarouselGridWrapper,\r\n    Carousel, \r\n    CarouselItem,\r\n    stylingCallback, \r\n    stylingResetCallback, \r\n    Card, \r\n    CardBody, \r\n    CardContent, \r\n    Image, \r\n    Row,\r\n    Container,\r\n} from '@sberdevices/plasma-ui';\r\nconst defaultImage = \"https://online-fotoshop.ru/wp-content/uploads/bfi_thumb/dummy-transparent-p2gfbv7qayyokn2iuybz9hr1rkhapcogpd9eywlyeq.png\";\r\nexport const CarouselPortalContainer = (props) => {\r\n    const [index, setIndex] = useState(1);\r\n    const items = props.pictures == undefined ? [defaultImage, defaultImage] : props.pictures;\r\n    let itemsComponents = items.map((item, i) => (\r\n            <CarouselItem key={i}>\r\n                <Card style={{ width: \"12.5rem\", height: \"10rem\", margin: \"0.4rem\",}}>\r\n                    <CardBody>\r\n                        <CardContent>\r\n                            <div className=\"img-t\">\r\n                                <Image title={`Item ${i}`} src={item} />\r\n                            </div>\r\n                        </CardContent>\r\n                    </CardBody>\r\n                </Card>\r\n            </CarouselItem>\r\n    ))\r\n    return(\r\n        <Container>\r\n            <CarouselGridWrapper>\r\n                <Carousel\r\n                    as={Row}\r\n                    axis=\"x\"\r\n                    index={index}\r\n                    scrollSnapType=\"mandatory\"\r\n                    detectActive\r\n                    detectThreshold={0.5}\r\n                    stylingCallback={stylingCallback}\r\n                    stylingResetCallback={stylingResetCallback}\r\n                    onIndexChange={(i) => setIndex(i)}\r\n                    paddingStart=\"50%\"\r\n                    paddingEnd=\"50%\"\r\n                >\r\n                {itemsComponents}\r\n                </Carousel>\r\n            </CarouselGridWrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CarouselPortalContainer;","import React, {useState, useEffect} from \"react\";\r\nimport \"./Tretyakovka.css\";\r\nimport CarouselContainer from \"./Carousel.jsx\";\r\nimport CarouselPortalContainer from \"./CarouselPortal\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { \r\n    FaInstagram,\r\n    FaFacebookF,\r\n    FaTwitter,\r\n    FaVk,\r\n    FaSubway,\r\n    FaClock,\r\n    FaPhoneAlt,\r\n    FaLink,\r\n    FaMapMarkedAlt,\r\n    FaMoneyBillAlt,\r\n } from \"react-icons/fa\";\r\nimport { Button, ActionButton} from '@sberdevices/plasma-ui';\r\nimport { IconHeartStroke, IconHeart, IconChevronLeft } from '@sberdevices/plasma-icons';\r\nimport { headline1, headline3, paragraph1 } from '@sberdevices/plasma-tokens';\r\nimport {showMuseum} from \"../../server/API_helper.js\";\r\nimport {updateFavorites} from \"../../server/favoritesManager\"\r\n\r\nfunction favUpdate(id, currentFavStatus, action, setFavorite) {\r\n    if((action === 'add' && !currentFavStatus) || (action === 'del' && currentFavStatus)) {\r\n        console.log(\"update fav\");\r\n        updateFavorites(currentFavStatus, id);\r\n        setFavorite(!currentFavStatus);\r\n    }\r\n}\r\nexport const Tretyakovka = (props) => {\r\n    const load = () => {showMuseum(props.id).then(res => {setInfo(res.data); setFavorite(res.data.in_favourites)})}\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [info, setInfo] = useState({});\r\n    const [inFavorite, setFavorite] = useState(false);\r\n    const history = useHistory();\r\n    useEffect(() => setIsLoaded(true), [info]);\r\n    useEffect(() => {if(!isLoaded) load()})\r\n    useEffect(() => {if(isLoaded) load();}, [props.id]);\r\n    useEffect(() => {if(isLoaded) {favUpdate(props.id, inFavorite, props.editFav.action, setFavorite);}}, [props.editFav]);\r\n    window.currentURL = history.location.pathname;\r\n\r\n    let worktime = info.worktime != undefined ? info.worktime : new Array(7).fill(\"loading...\");\r\n    let stations = info.station == undefined ? <p>loading...</p> : info.station.map((e, i) => (\r\n        <div>\r\n            <p style={paragraph1}>{e}</p>\r\n            <p style={paragraph1}>{` (${info.distance[i]}.)`}</p>\r\n        </div>\r\n    ))\r\n    return(\r\n        !isLoaded ?\r\n        <div>loading...</div>\r\n        :\r\n        <div className=\"scroll\">\r\n            <div className=\"name-container\">\r\n                <ActionButton\r\n                    back={true}\r\n                    size='m'\r\n                    view='clear'\r\n                    pin='square-square'\r\n                    contentLeft={<IconChevronLeft/>}\r\n                    onClick={() => {\r\n                        console.log(\"back\");\r\n                        history.goBack();\r\n                    }}\r\n                >  \r\n                </ActionButton>\r\n                <h1 style={headline1}>{info.name}</h1>\r\n                <p style={paragraph1} className=\"block-style\">{info.description}</p>\r\n                <div className=\"div-style\"> \r\n                {\r\n                    document.documentElement.clientWidth == 1280 &&\r\n                    document.documentElement.clientHeight == 800 ?\r\n                         <CarouselPortalContainer pictures={info.pictures}/>\r\n                    :\r\n                        <CarouselContainer pictures={info.pictures}/>\r\n                }\r\n                </div>\r\n                <div className=\"align-right\">\r\n                    <Button\r\n                        onClick = {() => {updateFavorites(inFavorite, info.id); setFavorite(!inFavorite);}}\r\n                        text='Избранное'\r\n                        size='l'\r\n                        view='primary'\r\n                        contentLeft={inFavorite ? <IconHeart/> : <IconHeartStroke/>}\r\n                    >  \r\n                    </Button>\r\n                </div>\r\n                <div className=\"div-style\">\r\n                    <FaMapMarkedAlt className=\"small-icon\"/>\r\n                    <h3 style={headline3}> Адрес: </h3>\r\n                    <p style={paragraph1}>{info.address}</p>\r\n                </div>\r\n                <div className=\"div-style\">\r\n                    <FaPhoneAlt className=\"small-icon\"/>\r\n                    <h3 style={headline3}> Телефон: </h3>\r\n                    <p style={paragraph1}>{info.phone}</p>\r\n                </div>\r\n                <div className=\"div-style\">\r\n                    <FaLink className=\"small-icon\"/>\r\n                    <h3 style={headline3}> Сайт: </h3>\r\n                    <a href={info.website} className=\"inline-style\"><p style={paragraph1}>{info.website}</p></a>\r\n                </div>\r\n                <div className=\"div-style\">\r\n                    <FaClock className=\"small-icon\"/>\r\n                    <h3 style={headline3}> Время работы:</h3>\r\n                    <div>\r\n                        <p style={paragraph1}>Понедельник: </p>\r\n                        <p style={paragraph1}>{worktime[0]}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p style={paragraph1}>Вторник: </p>\r\n                        <p style={paragraph1}>{worktime[1]}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p style={paragraph1}>Среда: </p>\r\n                        <p style={paragraph1}>{worktime[2]}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p style={paragraph1}>Четверг: </p>\r\n                        <p style={paragraph1}>{worktime[3]}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p style={paragraph1}>Пятница: </p>\r\n                        <p style={paragraph1}>{worktime[4]}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p style={paragraph1}>Суббота: </p>\r\n                        <p style={paragraph1}>{worktime[5]}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p style={paragraph1}>Воскресенье: </p>\r\n                        <p style={paragraph1}>{worktime[6]}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"div-style\">\r\n                    <FaSubway className=\"small-icon\"/>\r\n                    <h3 style={headline3}> Станция метро: </h3>\r\n                    {stations}\r\n                </div>\r\n                <div className=\"div-style\">\r\n                <FaMoneyBillAlt className=\"small-icon\"/>\r\n                    <h3 style={headline3}> Стоимость билетов: </h3>\r\n                    <p style={paragraph1}>{info.payment}</p>\r\n                </div>\r\n                <div>\r\n                    <a target=\"_blank\" href={info.inst} className=\"inline-style\"><FaInstagram className={info.inst === \"null\" ? \"icon-no-link\" : \"icon-with-link\"}/></a>\r\n                    <a target=\"_blank\" href={info.facebook} className=\"inline-style\"><FaFacebookF className={info.facebook === \"null\" ? \"icon-no-link\" : \"icon-with-link\"}/></a>\r\n                    <a target=\"_blank\" href={info.twitter} className=\"inline-style\"><FaTwitter className={info.twitter === \"null\" ? \"icon-no-link\" : \"icon-with-link\"}/></a>\r\n                    <a target=\"_blank\" href={info.vk} className=\"inline-style\"><FaVk className={info.vk === \"null\" ? \"icon-no-link\" : \"icon-with-link\"}/></a>\r\n                </div>\r\n               \r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Tretyakovka;","import React from \"react\";\r\nimport {\r\n  createSmartappDebugger,\r\n  createAssistant,\r\n} from \"@sberdevices/assistant-client\";\r\nimport \"./App.css\";\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport { darkJoy, darkEva, darkSber } from '@sberdevices/plasma-tokens/themes'; \r\nimport {text, background, gradient} from '@sberdevices/plasma-tokens';\r\nimport { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device';\r\nimport {\r\n  BrowserRouter as Router, \r\n  Route, \r\n  Switch, \r\n  Redirect,\r\n  withRouter,\r\n} from \"react-router-dom\";\r\n\r\nimport Menu from \"./pages/Menu\";\r\nimport NotFound from \"./pages/404\";\r\nimport Museums from \"./pages/Museums\";\r\nimport Favorites from \"./pages/Favorites\";\r\nimport Tretyakovka from \"./pages/museums/Tretyakovka\";\r\nimport packageJson from '../package.json'\r\nconst initializeAssistant = (getState) => {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    return createSmartappDebugger({\r\n      token: process.env.REACT_APP_TOKEN ?? \"\",\r\n      initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\r\n      getState,\r\n    });\r\n  }\r\n  return createAssistant({ getState });\r\n};\r\n\r\nconst ThemeBackgroundEva = createGlobalStyle(darkEva);\r\nconst ThemeBackgroundSber = createGlobalStyle(darkSber);\r\nconst ThemeBackgroundJoy = createGlobalStyle(darkJoy);\r\n\r\nconst DocStyle = createGlobalStyle`\r\n    html:root {\r\n        min-height: 100vh;\r\n        color: ${text};\r\n        background-color: ${background};\r\n        background-image: ${gradient};\r\n    }\r\n`;\r\n\r\nlet ind_id = [];\r\nlet ind_id_fav = [];\r\nconst prefix = packageJson.homepage ? \"/client-server\" : \"\";\r\nwindow.currentURL = prefix + \"/\";\r\nexport class App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n    this.state = {\r\n      character: \"sber\", //текущий персонаж\r\n      openMusId: -1,\r\n      page: -1,\r\n      editFav: {\r\n        id: -1,\r\n        action: 'add',\r\n      }\r\n    }\r\n    this.assistant = initializeAssistant(() => this.getStateForAssistant() );\r\n    this.assistant.on(\"start\", (event) => {\r\n      setTimeout(this.assistant.sendData({action: {action_id: \"getSub\"}}), 300);\r\n    });\r\n    this.assistant.on(\"data\", (event) => {\r\n      if(event.type === 'character') {\r\n        console.log(\"был вызван \" + event.character.id);\r\n        this.setState({\r\n          character: event.character.id,  \r\n        });\r\n      }\r\n      const { action } = event\r\n      this.dispatchAssistantAction(action);\r\n    });\r\n  }\r\n  \r\n\r\n  componentDidMount() {\r\n    console.log('componentDidMount');\r\n  }\r\n\r\n  getStateForAssistant () {\r\n    const state = {\r\n      item_selector: {\r\n        items: null,\r\n      },\r\n    };\r\n    return state;\r\n  }\r\n\r\n  dispatchAssistantAction (action) {\r\n    console.log('action: ', action);\r\n    if (action) {\r\n      switch (action.type) {\r\n        case \"get_sub\":\r\n          window.user_id = action.data;\r\n          break;\r\n        case \"open_museums_list\":\r\n          this.setState({page: 0});\r\n          this.setState({page: -1});\r\n          break;\r\n        case \"open_favor_museums\":\r\n          this.setState({page: 1});\r\n          this.setState({page: -1});\r\n          break;\r\n        case \"open_museum\":\r\n          let id = 1;\r\n          if(window.currentURL === prefix+\"/museums\") {\r\n            id = ind_id[action.data-1];\r\n          }\r\n          if(window.currentURL === prefix+\"/fav\") {\r\n            id = ind_id_fav[action.data-1];\r\n          }\r\n          if(id) this.setState({openMusId: id});\r\n          break;\r\n        case \"add_favorite\":\r\n          if(window.currentURL !== prefix+\"/\") {\r\n            this.setState({editFav: {\r\n              id: action.data,\r\n              action: 'add',\r\n            }});\r\n          }\r\n          break;\r\n        case \"delete_favorite\":\r\n          if(window.currentURL !== prefix+\"/\") {\r\n            this.setState({editFav: {\r\n              id: action.data,\r\n              action: 'del',\r\n            }});\r\n          }\r\n          break;\r\n        case \"back\":\r\n          if(window.currentURL !== prefix+\"/\")\r\n            window.history.back();\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  openMuseumById = (id) => {\r\n    console.log('id: ', id);\r\n    this.setState({openMusId: id});\r\n  }\r\n\r\n  fillArrayInd_Id = (arr, param) => {\r\n    for(let i = 0; i < arr.length; i++) {\r\n      if(param === 'all')\r\n        ind_id[i] = arr[i].id;\r\n      else if(param === 'fav')\r\n        ind_id_fav[i] = arr[i].id;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(prefix);\r\n    return (\r\n      <DeviceThemeProvider>\r\n        <DocStyle/>\r\n        {(() => {\r\n                  switch (this.state.character) {\r\n                      case 'sber':\r\n                          return <ThemeBackgroundSber />;\r\n                      case 'eva':\r\n                          return <ThemeBackgroundEva />;\r\n                      case 'joy':\r\n                          return <ThemeBackgroundJoy />;\r\n                      default:\r\n                          return; \r\n                  }\r\n              })()}\r\n                <Router>\r\n                      <Switch>\r\n                        <Route exact path = {`${prefix}/`} render={(props) => <Menu\r\n                        assistant={this.assistant}\r\n                          nextPage={this.state.page}\r\n                          prefix={prefix}/>} \r\n                        />\r\n                        <Route exact path = {`${prefix}/404`} component = {NotFound} />\r\n                        <Route exact path = {`${prefix}/museums`} render={(props) => <Museums\r\n                          openId={this.state.openMusId} \r\n                          fillArrayInd_Id={this.fillArrayInd_Id}\r\n                          openMuseumById={this.openMuseumById}\r\n                          editFav={this.state.editFav}\r\n                          prefix={prefix}\r\n                          />}\r\n                        />\r\n                        <Route exact path = {`${prefix}/museums/first`} render = {(props) => <Tretyakovka\r\n                          id={this.state.openMusId}\r\n                          editFav={this.state.editFav}\r\n                          />}\r\n                        />\r\n                        <Route exact path = {`${prefix}/fav/first`} component = {Tretyakovka} />\r\n                        <Route exact path = {`${prefix}/fav`} render={(props) => <Favorites \r\n                          openId={this.state.openMusId}\r\n                          openMuseumById={this.openMuseumById}\r\n                          fillArrayInd_Id={this.fillArrayInd_Id}\r\n                          editFav={this.state.editFav}\r\n                          prefix={prefix}\r\n                          />}\r\n                        />\r\n                        <Redirect to = {`${prefix}/404`}/>\r\n                      </Switch>\r\n                </Router>\r\n      </DeviceThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n          <App/>\r\n      </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}